<section class="m-6">
    <p-toast /> 
    <h1 class="text-2xl mb-3 font-bold">Sign Up</h1>
    <div class="card flex bg-gray-100 p-4 rounded-2xl">
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4 w-full sm:w-56">
            <div class="flex flex-col w-200 gap-1">
                <input pInputText type="text" id="firstName" placeholder="First Name" formControlName="firstName" [invalid]="isInvalid('firstName')" />
                @if (isInvalid('firstName')) {
                    <p-message severity="error" size="small" variant="simple">First Name is required.</p-message>
                }
            </div>
            <div class="flex flex-col w-200 gap-1">
                <input pInputText type="text" id="lastName" placeholder="Last Name" formControlName="lastName" [invalid]="isInvalid('lastName')" />
                @if (isInvalid('lastName')) {
                    <p-message severity="error" size="small" variant="simple">Last Name is required.</p-message>
                }
            </div>
            <div class="flex flex-col gap-1">
                <p-select formControlName="role" [options]="roles()" [invalid]="isInvalid('role')" placeholder="Select a Role" class="w-full md:w-56" />
                @if (isInvalid('role')) {
                    <p-message severity="error" size="small" variant="simple">Role is required.</p-message>
                }
            </div>
            <div class="flex flex-col w-200 gap-1">
                <input pInputText type="email" id="email" placeholder="Email" formControlName="email" [invalid]="isInvalid('email')" />
                @if (isInvalid('email')) {
                    @if (signupForm.get('email')?.errors?.['required']) {
                        <p-message severity="error" size="small" variant="simple">Email is required.</p-message>
                    }
                    @if (signupForm.get('email')?.errors?.['email']) {
                        <p-message severity="error" size="small" variant="simple">Please enter a valid email.</p-message>
                    }
                }
            </div>
            <div class="flex flex-col w-200 gap-1">
                <input pInputText type="password" id="password" placeholder="Password" formControlName="password" [invalid]="isInvalid('password')" />
                @if (isInvalid('password')) {
                    @if (signupForm.get('password')?.errors?.['required']) {
                        <p-message severity="error" size="small" variant="simple">Password is required.</p-message>
                    }
                    @if (signupForm.get('password')?.errors?.['pattern']) {
                        <p-message severity="error" size="small" variant="simple">must be at least 8 characters.</p-message>
                        <p-message severity="error" size="small" variant="simple">must have at least 1 digit.</p-message>
                        <p-message severity="error" size="small" variant="simple">must have at least 1 lowercase letter.</p-message>
                        <p-message severity="error" size="small" variant="simple">must have at least 1 uppercase letter.</p-message>
                        <p-message severity="error" size="small" variant="simple">must have at least 1 special character</p-message>
                    }
                }
            </div>
            <button pButton severity="secondary" class="w-200 bg-gray-400 hover:bg-gray-500 text-white" type="submit" [disabled]="signupForm.invalid"><span pButtonLabel>Submit</span></button>
        </form>
    </div>
</section>
